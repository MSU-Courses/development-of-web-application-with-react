# Что такое API?

## Введение в API

### Пример из реальной жизни

Прежде чем рассмотреть, что такое API в программировании, давайте рассмотрим пример из реальной жизни. Я пока не буду расшифровывать данное понятие, а просто приведу аналогию.

Представьте, что вы пришли в ресторан. Открываете меню, выбираете блюдо — допустим, фуа-гра с трюфелями. Подходит официант, вы называете заказ, и он уходит на кухню. Там повар готовит ваше блюдо и передаёт его обратно официанту, который приносит его к вашему столику. Правда обычная ситуация?

_А теперь задайтесь вопросом_: вы знаете, что именно происходит на кухне? Как повар готовит еду? Какие процессы и технологии он использует? Скорее всего — нет. Вы просто сделали заказ и получили результат. А повар знает, кто вы такой и зачем вам эта фуа-гра? Тоже нет. Он просто получил указание от официанта, и выполнил его.

По сути, вы и повар взаимодействовали, но не напрямую, **а через посредника** — _официанта_.

Вы не обязаны понимать, как работает кухня, чтобы заказать блюдо. Вам достаточно знать, что и как сказать официанту. А повару не нужно знать, кто вы такой — ему нужно только понимать, какой заказ вы сделали и как его выполнить.

Данный пример вроде бы очевиден, но он очень хорошо иллюстрирует, что такое API.

В "реальном мире", API — это посредник между двумя сторонами, который передаёт запрос и возвращает результат. И эта аналогия пригодится нам ещё не раз. Держите её в голове.

Попробуйте держать данный пример у себя в голове, я буду к нему возвращаться в дальнейшем.

### API в программировании

Теперь давайте перенесём пример в "мир" программирования.

**API (Application Programming Interface)** — это программный интерфейс, то есть набор правил и способов, с помощью которых одно приложение может взаимодействовать с другим. По сути, это как общий язык или протокол, по которому программы "разговаривают" друг с другом.

Звучит немного сложно, правда? Давайте объясним проще — и потом вы сможете перечитать определение с новым пониманием.

Представьте, что у вас есть два приложения:

- Приложение `A` — создаёт пользователей. (Написано на PHP)
- Приложение `B` — отправляет этим пользователям письма на почту. (Написано на C++)

Цель у них общая — работать с пользователями. Но вот незадача: они написаны на разных языках, и каждое живёт своей жизнью. Как им взаимодействовать? **Bingo**! Именно здесь на сцену выходит API.

Один из примитивных способов связи — использовать файл.

- Приложение `A` записывает пользователей в файл `users.txt`,
- Приложение `B` периодически читает этот файл и отправляет письма.

Они напрямую друг о друге ничего не знают. Но умеют работать с одним общим ресурсом. Это и есть интерфейс взаимодействия — пусть и простой.

Такой подход и есть форма API — пусть базовая и немного «кустарная». Тем не менее, он работает! `A` и `B` обмениваются данными, не вникая во внутренние детали работы друг друга.

Вернёмся к ресторану:

- Приложение `A` — это вы.
- Приложение `B` — это повар.
- `Файл` — это официант.

Вы не знаете, как работает кухня. Повар не знает, кто вы. Но через официанта вы прекрасно общаетесь. Официант выступает в роли интерфейса между вами и поваром (API).

Попробуйте еще раз прочитать определение API в начале данной главы, возможно, теперь оно стало более понятным.

### Почему API называют интерфейсом?

Мы несколько раз сказали, что API — это **интерфейс**. Почему именно интерфейс?

**Интерфейс** — это граница или точка соприкосновения между двумя системами. _Например_, кнопки на кофемашине — это её интерфейс. Вы нажимаете на "капучино", и кофемашина готовит его. Вам не нужно знать, как она устроена изнутри. Вам достаточно взаимодействовать через понятный интерфейс.

Точно так же и в программировании: API — это интерфейс, через который одна программа может взаимодействовать с другой. Это своего рода набор «кнопок» и «команд», с помощью которых можно "нажать" на нужные функции другого приложения, не вникая в его внутреннюю реализацию.

_Например_, приложение `A` может отправить запрос приложению `B` через API, чтобы получить какие-то данные или выполнить нужную операцию. При этом `A` не знает, на каком языке написано `B`, как устроена его база данных или логика. Ему достаточно знать, как правильно отправить запрос — и получить ответ.

В качестве такой «кнопки» может выступать обычный HTTP-запрос. Допустим:

- Приложение `A` отправляет запрос к сервису `B` и "говорит": _"Дай мне данные пользователя с ID=123"_
- Приложение `B` получает этот запрос, обрабатывает его и возвращает ответ: _"Вот данные пользователя с ID=123: Имя, Фамилия, Email"_

Вот и всё — `A` получил нужную информацию, не зная, как именно она была получена.

Если снова вернуться к аналогии с рестораном, **официант — это интерфейс**, позволяющий вам взаимодействовать с поваром. Вы не знаете, как устроена кухня, а повар не знает, кто вы, и, возможно, даже говорит на другом языке. Но официант принимает ваш заказ и передаёт его на кухню, а потом приносит вам результат. Всё просто и эффективно — и именно так работает API в цифровом мире.
