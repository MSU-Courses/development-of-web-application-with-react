# HTTP и методы CRUD: основы работы с данными

В предыдущей главе мы несколько раз упоминали HTTP. Возможно, вы уже сталкивались с ним на курсе по веб-программированию. Давайте кратко вспомним, что это такое и почему он важен в контексте API.

**HTTP (HyperText Transfer Protocol)** — это протокол, по которому веб-браузеры и другие клиенты обмениваются данными с серверами в интернете.

Когда мы говорим об API, нас в первую очередь интересуют HTTP-методы — типы запросов, обозначающие, какое действие мы хотим выполнить с данными на сервере.

Четыре основных метода HTTP напрямую соответствуют операциям CRUD (Create, Read, Update, Delete — создание, чтение, обновление, удаление):

- `GET` – получить данные (чтение). Этот запрос не изменяет данные на сервере, а только извлекает их. _Пример_:
  - `GET /users` – получить список всех пользователей,
  - `GET /users/5` – получить данные пользователя с `id=5`.
- `POST` – создать новые данные. Такой запрос отправляет на сервер новую информацию. _Пример_:
  - `POST /users` – создать нового пользователя (данные нового пользователя передаются в теле запроса).
- `PUT` – обновить существующие данные. Чаще всего используется для полного обновления ресурса. Пример:
  - `PUT /users/5` – заменить информацию о пользователе с `id=5` новыми данными (которые передаются в теле запроса).
  - Если ресурс не существует, некоторые API могут его создать, но это зависит от реализации.
- `DELETE` – удалить данные. Пример: `DELETE /users/5` – удалить пользователя с `id=5`.

> [!NOTE]
> Ресурс — это объект, с которым работает API. Например: пользователи, посты, комментарии и т.д. В REST API ресурсы обычно представляются в формате JSON.

Эти HTTP-методы позволяют реализовать полный цикл управления данными. Представьте, что на сервере существует ресурс — например, коллекция «пользователи».

- С помощью `GET` можно получить список всех пользователей или информацию об одном пользователе.
- С помощью `POST` — добавить нового пользователя.
- С помощью `PUT` — обновить данные существующего пользователя.
- С помощью `DELETE` — удалить пользователя.

Комбинация HTTP-метода и URL-адреса ресурса позволяет клиенту чётко указать серверу, что именно нужно сделать.

```
GET     https://api.example.com/users        // Получить список всех пользователей
POST    https://api.example.com/users        // Создать нового пользователя
GET     https://api.example.com/users/5      // Получить пользователя с id=5
PUT     https://api.example.com/users/5      // Обновить данные пользователя с id=5
DELETE  https://api.example.com/users/5      // Удалить пользователя с id=5
```

Каждый HTTP-запрос получает от сервера HTTP-ответ, который включает:

- **Код статуса** — сообщает, успешно ли выполнен запрос (_например_, 200 OK, 404 Not Found, 500 Internal Server Error и т.д.).
- **Тело ответа** — содержит данные в случае успешного выполнения (чаще всего в формате JSON), либо сообщение об ошибке.

**Пример**:

- `GET    https://api.example.com/users/5` → `200 OK` + JSON-объект с данными пользователя.
- `DELETE https://api.example.com/users/5` → `204 No Content` — операция успешна, но тело ответа не требуется.

## Recap: HTTP и CRUD в API

1. **HTTP** — это протокол, через который клиент и сервер обмениваются данными. API-запросы в вебе всегда отправляются по HTTP.

2. **Методы HTTP соответствуют операциям CRUD**:

   - `GET` — чтение данных;
   - `POST` — создание новых данных;
   - `PUT` — обновление существующих;
   - `DELETE` — удаление.

3. **Пример:**

   - `GET /users/5` — получить пользователя с ID=5
   - `DELETE /users/5` — удалить пользователя с ID=5
