# Создание компонентов в React

В React компоненты являются строительными блоками пользовательских интерфейсов.

Существует два основных способа их создания: **классовые** и **функциональные** компоненты.

## Классовые компоненты

**Классовые компоненты** — это традиционный способ создания компонентов в React. Они являются классами ES6, которые наследуются от `React.Component.`

Однако функциональные компоненты заменили классовые как более простой и предпочтительный способ создания компонентов.

**Пример 1.** _Классовый компонент_

```jsx
import React from 'react';

class MyComponent extends React.Component {
  render() {
    return <h1>Hello, React!</h1>;
  }
}

export default MyComponent;
```

**Особенности**:

- Должны наследоваться от `React.Component`.
- Используют метод render для возврата `JSX-разметки`.

> [!WARNING]
> Классовые компоненты считаются устаревшими. Новым проектам рекомендуется использовать функциональные компоненты.

## Функциональные компоненты

**Функциональные компоненты** — это современный способ создания компонентов. Они представляют собой обычные функции, которые принимают входные данные (props) и возвращают JSX-разметку.

**Почему функциональные компоненты предпочтительны?**

- **Простота**. Они проще в написании и чтении.
- **Меньше кода**. Нет необходимости наследовать класс или использовать метод render.

**Пример 2.** _Функциональный компонент_

```jsx
function MyComponent() {
  return <h1>Hello, React!</h1>;
}

export default MyComponent;
```

## Где хранить компоненты?

В React-приложениях рекомендуется организовывать структуру файлов так, чтобы компоненты были легко доступны и логически сгруппированы.

Компоненты рекомендуется хранить в отдельной директории `components`, которая находится в директории `src`.

**Пример 3.** _Структура файлов проекта_

```
my-app/
├── src/
│   ├── components/
│   │   ├── Header.jsx
│   │   ├── Footer.jsx
│   ├── App.jsx
```

## Как создать компонент в React?

1. **Создайте новый файл.**
   - Название файла должно быть понятным, отражать назначение компонента и начинаться с заглавной буквы.
   - **Пример**: `Header.jsx`
2. **Создайте функцию для компонента.**

   - Функция должна возвращать JSX-разметку.
   - Имя функции должно совпадать с именем файла.

   ```jsx
   function Header() {
     return (
       <header>
         <h1>My React App</h1>
       </header>
     );
   }
   ```

3. **Экспортируйте компонент.**

   - Используйте `export default`, чтобы сделать компонент доступным для использования в других файлах.

   ```jsx
   function Header() {
     return (
       <header>
         <h1>My React App</h1>
       </header>
     );
   }

   export default Header;
   ```

4. **Импортируйте компонент**

   - Чтобы использовать компонент, выполните его импорт в нужном месте:

   ```jsx
   import Header from './components/Header';

   function App() {
     return (
       <div>
         <Header />
       </div>
     );
   }

   export default App;
   ```

## Пример создания и использования компонентов

Создадим два функциональных компонента: `Header` и `Post`.

### Компонент `Header`

Создайте файл `Header.jsx` в папке `components` со следующим содержимым:

```jsx
function Header() {
  return (
    <header>
      <h1>My React App</h1>
    </header>
  );
}

export default Header;
```

### Компонент `Post`

Создайте файл `Post.jsx` в папке `components` со следующим содержимым:

```jsx
import Header from './Header';

function Post() {
  return (
    <div>
      <Header />
      <p>Post information goes here.</p>
    </div>
  );
}

export default Post;
```

При рендеринге вместо компонента `Header` будет отображаться html-разметка из компонента `Header`.

### Использование компонентов

Измените файл `App.jsx` следующим образом:

```jsx
import Post from './components/Post';

function App() {
  return (
    <div>
      <Post />
    </div>
  );
}

export default App;
```

При переходе на страницу вы увидите заголовок `My React App`, а под ним информацию о профиле пользователя.

> [!NOTE]
> При использовании компонентов код становится более структурированным, повторно используемым и легко читаемым, что облегчает разработку и поддержку приложения.

Теперь можно проследить общую связь компонентов и их рендеринг.

<img src="https://i.imgur.com/zVqndFt.png" style="width: 100%; max-width: 800px;" />

> [!NOTE] > **Рендеринг** - это процесс преобразования React-компонентов в DOM-элементы, которые отображаются в браузере.

## Дочерние и родительские компоненты в React

В React-приложениях компоненты организуются иерархически. Часто один компонент содержит другие компоненты, что приводит к их разделению на родительские и дочерние.

- **Дочерний компонент** — компонент, который находится внутри другого компонента.
- **Родительский компонент** — компонент, который содержит один или несколько дочерних компонентов.
- **Корневой компонент** — верхнеуровневый компонент, с которого начинается иерархия приложения. Обычно это `App`.

**Пример 4.** _Дочерний и родительский компонент_

```jsx
import Header from './Header';

function Post() {
  return (
    <div>
      <Header />
      <p>Post information goes here.</p>
    </div>
  );
}
```

1. Компонент `Header`:
   - Находится внутри компонента `Post`.
   - Является **дочерним** компонентом для `Post`.
2. Компонент `Post`:
   - Содержит `Header`.
   - Является родительским компонентом для `Header`.
