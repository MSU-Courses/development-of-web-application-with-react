# Хук `useState`

Первый хук, с которым стоит познакомиться, — это `useState`. Он позволяет функциональным компонентам добавлять **"состояние"** и изменять его в процессе работы.

## Проблема с изменением состояния

Рассмотрим ситуацию: нам нужно создать счётчик, который увеличивается на 1 при каждом клике на кнопку. Попробуем использовать обычную переменную `count` и функцию `increment`, которая изменяет её значение:

**Пример 1**. Счётчик без использования `useState`:

```jsx
function Counter() {
  let count = 0;

  function increment() {
    count += 1;
  }

  return (
    <div>
      <p>Счётчик: {count}</p>
      <button onClick={increment}>Увеличить</button>
    </div>
  );
}
```

На первый взгляд, код кажется правильным, но если нажимать на кнопку, счётчик не обновляется. Почему? Дело в том, что React не отслеживает изменения переменной `count` и не понимает, что компонент нужно перерисовать. Переменная `count` просто пересоздаётся при каждом новом рендере, а изменения в ней не приводят к обновлению интерфейса.

## Использование `useState`

Так как значение счётчика — это состояние компонента, его нужно управлять с помощью хука `useState`.

Синтаксис `useState`:

```jsx
const [state, setState] = useState(initialState);
```

- `state` — переменная, хранящая текущее значение состояния.
- `setState` — функция, позволяющая изменить состояние.
- `initialState` — начальное значение состояния.

Чтобы изменить состояние, нельзя напрямую изменять `state`. Вместо этого используется `setState`, который обновляет его и заставляет React перерисовать компонент.

```jsx
setState(5);
// теперь state равен 5
```

### Реализация счётчика с `useState`

Теперь переделаем наш компонент, используя `useState`.

**Пример 2**. Счётчик с использованием `useState`.

```jsx
import React, { useState } from "react";

function Counter() {
  const [count, setCount] = useState(0);

  function increment() {
    // count = count + 1 - не будет работать!
    setCount(count + 1); // Обновляем состояние
  }

  return (
    <div>
      <p>Счётчик: {count}</p>
      <button onClick={increment}>Увеличить</button>
    </div>
  );
}
```

Теперь **при каждом клике на кнопку**:

- Состояние `count` увеличивается на 1.
- React замечает изменение и перерисовывает компонент (обновляет интерфейс).

> [!NOTE]
> Данный процесс называется **реактивностью** — это способность компонента отслеживать изменения состояния и автоматически обновлять интерфейс. В первом примере компонент не был реактивным, поскольку React не отслеживал изменения переменной `count`. Во втором примере, благодаря использованию `useState`, компонент стал реактивным.
